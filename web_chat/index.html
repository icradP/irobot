<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Robot Chat</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.8/dist/purify.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
    <div class="sidebar">
        <button class="new-chat-btn" id="newChatBtn">
            <span>+</span>
            New chat
        </button>
        <div class="history-list">
            <!-- Chat history items would go here -->
        </div>
        <div class="sidebar-footer">
            <button class="nav-item" id="settingsBtn">
                <span>⚙️</span>
                Settings
                <span class="connection-dot" id="connectionDot"></span>
            </button>
        </div>
    </div>

    <div class="main-content">
        <div class="chat-messages" id="chatMessages">
            <div class="message system-message">
                <div class="message-inner">
                    <div class="message-content">
                        Robot Chat
                    </div>
                </div>
            </div>
        </div>

        <div class="input-area">
            <div class="input-container">
                <div class="input-box">
                    <textarea id="messageInput" rows="1" placeholder="Send a message..."></textarea>
                    <button id="sendButton" class="send-btn">
                        <svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
                    </button>
                </div>
                <div class="footer-text">
                    Robot Chat may produce inaccurate information about people, places, or facts.
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="settings-modal" id="settingsModal">
        <div class="settings-content">
            <div class="settings-header">
                <h3>Settings</h3>
                <button class="close-btn" id="closeSettings">×</button>
            </div>
            <div class="setting-item">
                <label for="inputPort">Input Port</label>
                <input type="number" id="inputPort" value="8080">
            </div>
            <div class="setting-item">
                <label for="outputPort">Output Port</label>
                <input type="number" id="outputPort" value="8081">
            </div>
            <div class="setting-item">
                <label for="serverHost">Server Host</label>
                <input type="text" id="serverHost" value="localhost">
            </div>
            <button class="save-btn" id="saveSettings">Save & Reconnect</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
