
# 🚫 MCP 红线清单：永远不能放的东西

| 类别             | 内容                        | 原因                                       | 示例                                              |
| -------------- | ------------------------- | ---------------------------------------- | ----------------------------------------------- |
| **人格裁量权 / 决策** | 决定是否回复、回复风格、主动行为、优先级、情绪调节 | 这些是人格核心功能，必须在 RobotCore 决策层执行，否则人格漂移、不可控 | `should_reply = true/false`、`tone = playful`    |
| **工作流逻辑**      | 串行/并行步骤选择、下一步任务调度         | MCP 是能力提供，不是决策中心                         | “先调用 ASR，再调用 TTS”                               |
| **策略选择**       | 选择哪个能力模块、能力组合顺序           | RobotCore 才有全局视角                         | “先画画，再生成说明文本”                                   |
| **全局状态**       | Robot 的情绪、活跃度、信心值         | MCP 不知道大脑状态，只负责提供数据                      | `mood = angry`                                  |
| **人格记忆计算**     | 比如根据过去对话决定亲疏              | MCP 只能存事实/记忆，计算归 RobotCore               | `relationship_strength = 0.8`（计算结果）❌可以，但计算过程❌不行 |
| **环境上下文裁量**    | 是否因为群里吵就不发消息              | 属于决策，不能交给 MCP                            | `group_noise > threshold -> silent`             |
| **主动行为触发**     | 自发说话 / 问候 / 发起任务          | MCP 被动提供能力，不能主动触发                        | “每小时问候一次”                                       |
| **Prompt 规则**  | LLM 的表达规范、输出约束            | MCP 只提供数据，不控制 LLM 生成                     | `system_prompt = "always sound playful"`        |

---

# ✅ MCP 允许的内容

为了对比一下，让你理解边界：

* **事实数据**：

  * 用户画像（年龄、昵称、性别偏好）
  * 用户关系（亲疏、互动次数）
  * 历史对话
  * 群信息（人数、等级、标签）
* **能力调用**：

  * TextGeneration
  * ImageGeneration
  * ASR / TTS
  * 天气查询 / 时间 / 地点
* **原始记忆存储**：

  * 输入输出记录
  * 向量化 embedding
  * 标签 / 主题

**特点**：完全**无裁量权**，只是“提供事实 / 做工具”，RobotCore 决策后再使用这些数据。

---

# 💡 心得

1. MCP = **被动工具 + 数据提供者**
2. RobotCore = **人格 + 决策 + 裁量权**
3. 任何会影响“我想做什么或怎么做”的东西，都不可以进 MCP
4. MCP 的输出永远是“结果 / 原材料”，不是“最终行动方案”

